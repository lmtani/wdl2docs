{# Macro para renderizar badges de forma consistente #}

{# Badge básico com tipo #}
{% macro badge(type, text=None) %}
<span class="badge badge-{{ type }}">{{ text or type | upper }}</span>
{%- endmacro %}

{# Badges específicos por tipo de documento #}
{% macro workflow_badge() %}
{{ badge('workflow', 'WORKFLOW') }}
{%- endmacro %}

{% macro task_badge() %}
{{ badge('task', 'TASKS') if caller is not defined else badge('task', 'TASK') }}
{%- endmacro %}

{% macro mixed_badge() %}
{{ badge('mixed', 'MIXED') }}
{%- endmacro %}

{% macro file_badge() %}
{{ badge('file', 'FILE') }}
{%- endmacro %}

{% macro external_badge() %}
{{ badge('external', 'EXTERNAL') }}
{%- endmacro %}

{% macro call_badge() %}
{{ badge('call', 'CALL') }}
{%- endmacro %}

{% macro error_badge() %}
{{ badge('error', 'SYNTAX ERROR') }}
{%- endmacro %}

{% macro warning_badge() %}
{{ badge('warning', 'WARNING') }}
{%- endmacro %}

{% macro count_badge(count) %}
<span class="badge badge-count">{{ count }} {{ caller() if caller is defined else 'items' }}</span>
{%- endmacro %}

{# Badge com contador e pluralização #}
{% macro count_items(count, singular, plural=None) %}
<span class="badge badge-count">{{ count }} {{ singular if count == 1 else (plural or singular + 's') }}</span>
{%- endmacro %}

{# Badge parameterizado para imagens Docker #}
{% macro parameterized_badge() %}
<span class="badge badge-warning">Parameterized</span>
{%- endmacro %}

{# Badge informativo #}
{% macro info_badge(text) %}
<span class="badge badge-info" title="{{ caller() if caller is defined else '' }}">{{ text }}</span>
{%- endmacro %}
